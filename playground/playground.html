<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Kefir playground</title>
        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../bower_components/bacon/dist/Bacon.js"></script>
        <script src="../dist/kefir.js"></script>
        <script type="text/javascript">

          // ~ 4.4MB
          function kefir10000BusMap() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = new Kefir.Bus().map(noop)
            };
            return result;
          }

          // ~ 42MB
          function bacon10000BusMap() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = new Bacon.Bus().map(noop)
            };
            return result;
          }


          // ~ 3.8MB
          function kefir10000BusProperty() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = new Kefir.Bus().toProperty(1)
            };
            return result;
          }

          // ~ 39.6MB
          function bacon10000BusProperty() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = new Bacon.Bus().toProperty(1)
            };
            return result;
          }


          // ~ 11MB
          function kefir10000FromBinderCombine() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = Kefir.fromBinder(noop).combine(Kefir.fromBinder(noop), noop);
            };
            return result;
          }

          // ~ 88MB
          function bacon10000FromBinderCombine() {
            var result = new Array(10000);
            function noop(){}
            for (var i = 0; i < result.length; i++) {
              result[i] = Bacon.fromBinder(noop).combine(Bacon.fromBinder(noop), noop);
            };
            return result;
          }

        </script>
    </head>
    <body></body>
</html>
